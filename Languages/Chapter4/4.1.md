# 4.1 基础

​	表达式由一个或多个运算对象组成，对表达式求值将得到一个结果。字面值和变量是最简单的表达式，其结果就是字面值和变量的值。把一个运算符和一个或多个运算对象组合起来可以生成较复杂的表达式。

## 4.1.1 基本概念

​	C++定义了一元运算符和二元运算符。作用于一个运算对象的运算符是一元运算符，如取地址`&`何解引用`*`；作用于两个运算对象的运算符是二元运算符，如相等`==`和乘法`*`；`?:`是三元运算符。

### 组合运算符和运算对象

​	一条语句含有多个运算符，需要了解运算符的优先级、结合律以及运算对象的求值顺序。比如：

```c++
5 + 10 * 20 / 2
```

这个表达式并不是从左到右计算的，而是先计算`10 * 20`，得200，原表达式等价于`5 + 200 / 2`，再计算`200 / 2`，得 100，等价于 `5 + 100`，结果为 105。

### 运算对象转换

​	通常来说，二元运算符左右两边的对象要求是同类型的，但是运算对象常常由一种类型转换成另外一种类型。比如加法+左右两边可以是int和double相加。

### 重载运算符

​	C++语言定义了运算符作用于内置类型和复合类型的运算对象时所执行的操作。当运算符作用于类类型的运算对象时，用户可以自行定义其含义。这种自定义的过程事实上是为已存在的运算符赋予了另外的含义，故称重载运算符。

​	使用重载运算符时，运算对象的类型和返回值，是由运算符定义的；但是运算对象的个数、运算符的优先级和结合律是无法改变的。

### 左值和右值

​	表达式要么左值要么右值。左值可以位于赋值语句的左侧，右值不可以。

​	当一个对象被用作右值的时候，用的是对象的值；当对象被用作左值的时候，用的是对象的身份。

* 赋值运算符需要一个（非常量）左值作为其左侧运算对象，得到的结果也仍然是一个左值。
* 取地址符作用于一个左值运算对象，返回一个指向该运算对象的指针，这个指针是一个右值。
* 内置解引用运算符、下标运算符、迭代器解引用运算符、string 和 vector的下标运算符的求值结果都是左值。
* 内置类型和迭代器的递增递减运算符作用于左值运算对象，其前置版本所得的结果也是左值。

## 4.1.2 优先级和结合律

​	在复合表达式中，优先级和结合律决定了运算对象组合的方式。但是表达式中的括号无视优先级和结合律。



