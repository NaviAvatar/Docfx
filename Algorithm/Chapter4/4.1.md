# 4.1 串的定义和实现

​	字符串简称串，计算机上非数值处理的对象基本都是字符串数据。比如百度搜索，google搜索；一些商品网站，如淘宝，京东，都会有搜索框提供给用户进行商品的搜索，好不夸张的说，一些网站门户和 APP，均提供了搜索功能，甚至连一些黄色网站也提供了搜索功能。当然也有一些不走主流趋势的公司门户网站没有站内搜索，比如猿辅导。

## 4.1.1 串的定义

​	串是由零个或多个字符组成的有限序列。记为：

```c++
S='a1a2...an'(n>=0)
```

串中任意多个连续的字符组成的子序列称为该串的**子串**，包含字串的串称为**主串**。某个字符在串中的序号称为该字符在串中的位置。字串在主串中的位置以子串的第一个字符在主串中的位置来表示。当两串的长度相等且对应每个位置的字符相等时，称这两个串相等。

```c++
A="this is a string";
B="is";
C="string";
```

B 在 A 中的位置为 6；C 在 A 中的位置为 11。

## 4.1.2 串的存储结构

### 定长存储

```c++
#define MAXLEN 255
typedef struct{
    char ch[MAXLEN];
    int length;	// 串的实际长度
} SString;
```

用一组地址连续的存储单元存储串值的字符序列。串有一个最大的长度。

### 堆存储

```c++
typedef struct{
    char *ch;	// 按串长分配存储区，ch是存储区的首地址
    int length;	// 串的实际长度
}SString;
```

这种存储结构比起定长存储又一点好处，就是不限制长度，当ch指向的数组不够长时，可以申请更长的数组。

### 块链存储

借用链表，将字符存到节点中，每个结点有指向下一节点的指针。

```c++
typedef struct{
    char ch[5];
    node* next;	// 指向下一个块的指针
}node;

typedef struct{
    node* head;	// 首地址
}
```

## 4.13 串的基本操作

| 操作名                       | 释义                                                         |
| ---------------------------- | ------------------------------------------------------------ |
| StrAssign(&T, chars)         | 赋值操作。把串 T 赋值给 chars。                              |
| StrCopy(&T, S)               | 复制操作。由串 S 复制得到串 T。                              |
| StrEmpty(S)                  | 判空操作。S 串为空串，返回 true，否则返回 false。            |
| StrCompare(S, T)             | 比较操作。若 S > T，返回值 1；若 S = T，返回 0；若 S < T，返回 0。 |
| StrLength(S)                 | 求串长。返回串 S 的元素个数。                                |
| SubString(&Sub, S, pos, len) | 求子串。用 Sub 返回串 S 的第 pos 个字符起长度为 len 的子串。 |
| Concat(&T, S1, S2)           | 串连接。用 T 返回由 S1 和 S2 联接而成的新串。                |
| Index(S, T)                  | 定位操作。若主串 S 中存在与串 T 值相同的子串，则返回它在主串 S 中第一次出现的位置；否则函数值为0。 |
| ClearString(&S)              | 清空操作。将 S 串清空。                                      |
| DestroyString(&S)            | 销毁串。将串 S 销毁。                                        |

上述的接口仅是王道书给出的，我们应该向开源或者语言通用的接口靠近，比如 C++里的 string 类型的 substr，第一个字符的下标是从 0开始算起的。



